<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Vibe Pro - Ultimate Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style> 
        [x-cloak] { display: none !important; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 10px; }
    </style>
</head>
<body class="bg-[#f8faf8] p-4 md:p-8 font-['Plus_Jakarta_Sans']" x-data="plantApp()">

    <div class="max-w-4xl mx-auto">
        <div class="flex flex-col md:flex-row justify-between items-center mb-10 bg-white p-6 rounded-[2.5rem] shadow-sm border border-green-100 gap-4">
            <div>
                <h1 class="text-3xl font-extrabold text-green-900">Moje D≈æungle üåø</h1>
                <p class="text-green-600 text-sm font-medium" x-text="season === 'summer' ? 'Letn√≠ re≈æim ‚òÄÔ∏è' : 'Zimn√≠ re≈æim ‚ùÑÔ∏è'"></p>
            </div>
            <div class="flex bg-gray-100 p-1 rounded-2xl">
                <button @click="setSeason('summer')" :class="season === 'summer' ? 'bg-white shadow-sm text-orange-500' : 'text-gray-400'" class="px-4 py-2 rounded-xl text-sm font-bold transition-all">L√©to</button>
                <button @click="setSeason('winter')" :class="season === 'winter' ? 'bg-white shadow-sm text-blue-500' : 'text-gray-400'" class="px-4 py-2 rounded-xl text-sm font-bold transition-all">Zima</button>
            </div>
        </div>

        <div class="bg-white rounded-[2.5rem] p-8 shadow-sm border border-green-100 mb-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="lg:col-span-1">
                    <label class="text-[10px] font-black uppercase text-gray-400 ml-1">N√°zev / Druh</label>
                    <input x-model="newName" @input="checkLibrary()" @change="checkLibrary()" list="plantSuggestions" type="text" placeholder="Hledej v library..." class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 mt-1 focus:ring-2 focus:ring-green-500 outline-none">
                    <datalist id="plantSuggestions">
                        <template x-for="item in fullLibrary" :key="item.n">
                            <option :value="item.n"></option>
                        </template>
                    </datalist>
                </div>
                <div><label class="text-[10px] font-black uppercase text-gray-400 ml-1">L√©to (dny)</label><input x-model="summerDays" type="number" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 mt-1 text-orange-600 font-bold outline-none"></div>
                <div><label class="text-[10px] font-black uppercase text-gray-400 ml-1">Zima (dny)</label><input x-model="winterDays" type="number" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 mt-1 text-blue-600 font-bold outline-none"></div>
                <div><label class="text-[10px] font-black uppercase text-gray-400 ml-1">Naposledy zalito</label><input x-model="lastWateredDate" type="date" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 mt-1 font-bold text-gray-700 outline-none"></div>
            </div>
            <button @click="addPlant()" class="w-full mt-6 bg-green-900 text-white py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-xl active:scale-[0.98]">P≈ôidat do sb√≠rky +</button>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
            <template x-for="plant in plants" :key="plant.id">
                <div class="bg-white rounded-[3rem] p-8 shadow-sm border border-green-50 relative flex flex-col h-full" x-data="{ showCare: false }">
                    <button @click="triggerDelete(plant.id)" class="absolute top-8 right-8 text-gray-300 hover:text-red-500 transition-colors">‚úï</button>
                    
                    <div class="flex items-start gap-6 mb-6">
                        <div class="text-6xl bg-gray-50 w-24 h-24 flex items-center justify-center rounded-[2rem]" x-text="plant.daysLeft <= 0 ? 'ü•Ä' : getIcon(plant.name)"></div>
                        <div class="pt-2">
                             <p class="text-[10px] font-black text-gray-400 uppercase mb-1">N√°roƒçnost</p>
                             <div class="text-amber-400 text-lg font-bold" x-text="'‚≠ê'.repeat(getCare(plant.name).difficulty)"></div>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl font-black text-gray-900 mb-1" x-text="plant.name"></h2>
                    <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6">Naposledy: <span class="text-gray-600" x-text="plant.lastWatered"></span></p>
                    
                    <div class="space-y-4 mb-8">
                        <div class="flex justify-between items-end">
                            <div>
                                <span class="text-4xl font-black" :class="plant.daysLeft <= 0 ? 'text-red-600' : 'text-green-900'" x-text="plant.daysLeft"></span>
                                <span class="text-sm font-bold text-gray-400 uppercase">dn√≠</span>
                            </div>
                        </div>
                        <div class="w-full bg-gray-100 h-4 rounded-full overflow-hidden p-1">
                            <div class="h-full rounded-full transition-all duration-1000" :class="plant.daysLeft <= 0 ? 'bg-red-500' : 'bg-green-500'" :style="`width: ${Math.max(0, (plant.daysLeft / (season === 'summer' ? (plant.summerDays || 7) : (plant.winterDays || 14))) * 100)}%`" ></div>
                        </div>
                    </div>

                    <div class="flex gap-2 mt-auto">
                        <button @click="waterPlant(plant.id)" class="flex-1 py-4 bg-green-600 text-white font-black rounded-2xl hover:bg-green-700 transition-all shadow-lg active:scale-95">ZAL√çT üíß</button>
                        <button @click="showCare = !showCare" class="px-5 py-4 bg-amber-100 text-amber-700 font-black rounded-2xl hover:bg-amber-200 transition-all">üìñ Sk≈ô√≠≈à</button>
                    </div>

                    <div x-show="showCare" x-transition x-cloak class="mt-6 pt-6 border-t border-dashed border-amber-200 text-sm space-y-4">
                        <div class="bg-amber-50/50 p-4 rounded-2xl">
                            <p class="font-bold text-amber-900 mb-1 underline">üìç Um√≠stƒõn√≠</p>
                            <p class="text-amber-800" x-text="getCare(plant.name).place"></p>
                        </div>
                        <div class="bg-blue-50/50 p-4 rounded-2xl">
                            <p class="font-bold text-blue-900 mb-1 underline">üíß Voda</p>
                            <p class="text-blue-800" x-text="getCare(plant.name).water"></p>
                        </div>
                        <div class="bg-purple-50/50 p-4 rounded-2xl">
                            <p class="font-bold text-purple-900 mb-1 underline">üß™ Hnojen√≠</p>
                            <p class="text-purple-800" x-text="getCare(plant.name).fertilizer"></p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-2xl">
                            <p class="font-bold text-stone-900 mb-1 underline">ü™¥ Substr√°t</p>
                            <p class="text-stone-800" x-text="getCare(plant.name).soil"></p>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>

    <script>
        function plantApp() {
            return {
                plants: [],
                newName: '',
                summerDays: 7,
                winterDays: 14,
                lastWateredDate: new Date().toISOString().split('T')[0],
                season: 'summer',
                
                fullLibrary: [
                    { n: 'Adiantum (Net√≠k)', s: 3, w: 6, difficulty: 4, place: 'Polost√≠n, vysok√° vlhkost.', water: 'St√°le vlhk√Ω substr√°t, rosit.', fertilizer: '1x za 14 dn√≠ slabƒõ.', soil: 'Ra≈°elinov√Ω lehk√Ω.' },
                    { n: 'Aeschynanthus (Rdƒõnka / Eschynantus)', s: 5, w: 10, difficulty: 3, place: 'Svƒõtl√©, ne p≈ô√≠m√© slunce.', water: 'Odst√°t√° vla≈æn√° voda.', fertilizer: 'V l√©tƒõ 1x za 14 dn√≠.', soil: 'Vzdu≈°n√Ω pro pokojovky.' },
                    { n: 'Aglaonema', s: 7, w: 14, difficulty: 2, place: 'Polost√≠n a≈æ st√≠n.', water: 'M√≠rnƒõ, po oschnut√≠.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Standardn√≠ s perlitem.' },
                    { n: 'Alocasia (Alok√°zie / Alok√°zia)', s: 4, w: 9, difficulty: 4, place: 'Jasn√© rozpt√Ωlen√© svƒõtlo.', water: 'Miluje vlhko, ne p≈ôemok≈ôen√≠.', fertilizer: '1x za 14 dn√≠ v l√©tƒõ.', soil: 'Velmi vzdu≈°n√Ω, k≈Øra+perlit.' },
                    { n: 'Aloa prav√° (Aloe Vera)', s: 14, w: 21, difficulty: 1, place: 'Slunn√© okno.', water: 'St≈ô√≠dmƒõ, nep≈ôel√©vat.', fertilizer: 'V l√©tƒõ 1x za mƒõs√≠c.', soil: 'P√≠sƒçit√Ω pro sukulenty.' },
                    { n: 'Alpinia (Alp√≠nia / Galg√°n)', s: 5, w: 10, difficulty: 3, place: 'Teplo a hodnƒõ svƒõtla.', water: 'Pravidelnƒõ, rosit.', fertilizer: '1x za 14 dn√≠.', soil: 'Huminov√Ω bohat√Ω.' },
                    { n: 'Amaryllis (Amarylka / Hvƒõzdn√≠k)', s: 5, w: 10, difficulty: 3, place: 'Slunn√©, tepl√©.', water: 'Pravidelnƒõ bƒõhem kvƒõtu.', fertilizer: 'Pro kvetouc√≠ rostliny.', soil: 'V√Ω≈æivn√Ω zahradn√≠.' },
                    { n: 'Ananas (Anan√°s)', s: 7, w: 12, difficulty: 3, place: 'Pln√© slunce, teplo.', water: 'Do listov√© r≈Ø≈æice i ke ko≈ôen≈Øm.', fertilizer: '1x za 14 dn√≠ na citrusy.', soil: 'Kyselej≈°√≠ s ra≈°elinou.' },
                    { n: 'Anthuria (Toulitka / Ant√∫rie)', s: 5, w: 10, difficulty: 3, place: 'Svƒõtl√© okno, ne jih.', water: 'Mƒõkk√° voda, miluje rosen√≠.', fertilizer: '1x za 14 dn√≠ v sez√≥nƒõ.', soil: 'Vzdu≈°n√Ω pro orchideje/pokojovky.' },
                    { n: 'Aphelandra (Afelandra)', s: 4, w: 8, difficulty: 4, place: 'Jasn√© svƒõtlo, teplo.', water: 'St√°le vlhk√©, nesm√≠ vyschnout.', fertilizer: 'T√Ωdnƒõ v obdob√≠ kvƒõtu.', soil: 'Huminov√Ω, lehce kysel√Ω.' },
                    { n: 'Asparagus (Ch≈ôest / ≈†pargƒæa)', s: 4, w: 9, difficulty: 2, place: 'Svƒõtl√© rozpt√Ωlen√©.', water: 'ƒåast√° z√°livka, nesn√°≈°√≠ sucho.', fertilizer: '2x mƒõs√≠ƒçnƒõ v l√©tƒõ.', soil: 'Univerz√°ln√≠ pokojov√Ω.' },
                    { n: 'Asplenium (Slezin√≠k)', s: 4, w: 8, difficulty: 3, place: 'Polost√≠n, vlhko.', water: 'Zal√©vat ke kraji, ne do st≈ôedu.', fertilizer: '1x mƒõs√≠ƒçnƒõ slabƒõ.', soil: 'Ra≈°elinov√Ω pro kapradiny.' },
                    { n: 'Athyrium (Papratka / Papraƒèka)', s: 3, w: 7, difficulty: 3, place: 'St√≠n, vlhƒç√≠ kouty.', water: 'Udr≈æovat st√°le vlhk√©.', fertilizer: 'Slabƒõ 1x mƒõs√≠ƒçnƒõ.', soil: 'Lesn√≠ hrabanka/ra≈°elina.' },
                    { n: 'Azalka (Rhododendron)', s: 3, w: 6, difficulty: 4, place: 'Chladnƒõj≈°√≠, svƒõtl√©.', water: 'Mƒõkk√° voda, nesm√≠ vyschnout.', fertilizer: 'Pro kyselomiln√© rostliny.', soil: 'ƒåist√° ra≈°elina.' },
                    { n: 'Bellis (Sedmikr√°ska / Sedmokr√°ska)', s: 4, w: 8, difficulty: 1, place: 'Slunn√© balkonov√©.', water: 'Pravidelnƒõ.', fertilizer: '1x za 14 dn√≠.', soil: 'Zahradn√≠ substr√°t.' },
                    { n: 'Begonie (Beg√≥nia)', s: 3, w: 7, difficulty: 3, place: 'Svƒõtl√© bez slunce.', water: 'M√≠rnƒõ, ne na listy.', fertilizer: 'Pro kvetouc√≠ 1x t√Ωdnƒõ.', soil: 'Lehk√Ω, m√≠rnƒõ kysel√Ω.' },
                    { n: 'Brom√©lie', s: 7, w: 12, difficulty: 2, place: 'Jasn√© svƒõtlo.', water: 'Do st≈ôedov√© r≈Ø≈æice.', fertilizer: 'Velmi slabƒõ do r≈Ø≈æice.', soil: 'Pro orchideje nebo k≈Øra.' },
                    { n: 'Calathea (Kalatea)', s: 3, w: 7, difficulty: 5, place: 'Polost√≠n, ≈æ√°dn√Ω pr≈Øvan.', water: 'Mƒõkk√° voda, st√°le vlhko.', fertilizer: '1x za 14 dn√≠ poloviƒçn√≠ d√°vka.', soil: 'Vzdu≈°n√Ω, ra≈°elinov√Ω.' },
                    { n: 'Clusia (Klusie)', s: 6, w: 12, difficulty: 2, place: 'Jasn√© svƒõtlo a≈æ polost√≠n.', water: 'Pravidelnƒõ, snese kr√°tk√© sucho.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Propustn√Ω univerz√°ln√≠.' },
                    { n: 'Codiaeum (Kroton / Krot√≥novec)', s: 5, w: 10, difficulty: 4, place: 'Hodnƒõ svƒõtla pro barvy list≈Ø.', water: 'Vla≈æn√° voda, rosit.', fertilizer: 'Ka≈æd√Ωch 14 dn√≠.', soil: 'V√Ω≈æivn√Ω pro pokojovky.' },
                    { n: 'Coffea (K√°vovn√≠k)', s: 4, w: 9, difficulty: 3, place: 'Svƒõtl√©, tepl√© m√≠sto.', water: 'Pravidelnƒõ, rosit listy.', fertilizer: 'Hnojivo pro kyselomiln√©.', soil: 'Kysel√Ω (pH 5-6).' },
                    { n: 'Coleus (Koleus)', s: 3, w: 7, difficulty: 1, place: 'Slunn√© pro syt√© barvy.', water: 'Hodnƒõ vody, nesm√≠ zvadnout.', fertilizer: 'T√Ωdnƒõ v l√©tƒõ.', soil: 'Univerz√°ln√≠.' },
                    { n: 'Cyperus (Koƒçiƒç√≠ tr√°va / Maƒçacia tr√°va)', s: 2, w: 5, difficulty: 2, place: 'Slunn√©, tepl√©.', water: 'St√°l√© "nohy ve vodƒõ" (podmiska).', fertilizer: '2x mƒõs√≠ƒçnƒõ.', soil: 'Hlinit√Ω s p√≠skem.' },
                    { n: 'Dianthus (Hvozd√≠k / Klinƒçek)', s: 4, w: 9, difficulty: 2, place: 'Slunn√©.', water: 'M√≠rnƒõ, nep≈ôel√©vat.', fertilizer: 'Bƒõhem kvƒõtu 1x za 14 dn√≠.', soil: 'V√°penat√Ω, propustn√Ω.' },
                    { n: 'Dieffenbachia', s: 5, w: 10, difficulty: 3, place: 'Polost√≠n.', water: 'Pravidelnƒõ po oschnut√≠.', fertilizer: '2x mƒõs√≠ƒçnƒõ.', soil: 'Standardn√≠ pokojov√Ω.' },
                    { n: 'Dracena', s: 7, w: 14, difficulty: 2, place: 'Svƒõtl√© rozpt√Ωlen√© svƒõtlo.', water: 'M√≠rnƒõ, a≈æ po vyschnut√≠.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Pro palmy nebo univerz√°l.' },
                    { n: 'Epipremnum (Divn√Ω Janko / ≈†plhavnice)', s: 5, w: 12, difficulty: 1, place: 'Snese i st√≠n.', water: 'Pravidelnƒõ, odpust√≠ i sucho.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Jak√Ωkoliv substr√°t.' },
                    { n: 'Fialka (Africk√°)', s: 4, w: 8, difficulty: 2, place: 'Jasn√© svƒõtlo, ne slunce.', water: 'Zespodu do misky.', fertilizer: 'Pro kvetouc√≠ 1x mƒõs√≠ƒçnƒõ.', soil: 'Pro fialky/lehk√Ω.' },
                    { n: 'F√≠kus', s: 5, w: 10, difficulty: 3, place: 'Svƒõtl√©, bez pr≈Øvanu.', water: 'Po proschnut√≠ horn√≠ vrstvy.', fertilizer: '2x mƒõs√≠ƒçnƒõ v sez√≥nƒõ.', soil: 'Huminov√Ω pro pokojovky.' },
                    { n: 'Gerbera', s: 4, w: 9, difficulty: 3, place: 'Hodnƒõ svƒõtla, ƒçerstv√Ω vzduch.', water: 'Do misky, nep≈ôel√≠t st≈ôed.', fertilizer: 'T√Ωdnƒõ bƒõhem kvƒõtu.', soil: 'St≈ôednƒõ tƒõ≈æk√Ω.' },
                    { n: 'Guzm√°nie (Guzm√°nia)', s: 7, w: 12, difficulty: 2, place: 'Jasn√© rozpt√Ωlen√© svƒõtlo.', water: 'Do listov√© r≈Ø≈æice.', fertilizer: 'Velmi slabƒõ v l√©tƒõ.', soil: 'Pro orchideje/brom√©lie.' },
                    { n: 'Hedera (B≈ôeƒç≈•an / Breƒçtan)', s: 5, w: 10, difficulty: 2, place: 'St√≠n/polost√≠n, chladnƒõji.', water: 'M√≠rnƒõ, ƒçast√© rosen√≠.', fertilizer: '1x za 14 dn√≠.', soil: 'Univerz√°ln√≠.' },
                    { n: 'Hydrangea (Hortenzie / Hortenzia)', s: 3, w: 7, difficulty: 4, place: 'Polost√≠n, chladnƒõj≈°√≠.', water: 'Obrovsk√° spot≈ôeba vody.', fertilizer: 'Pro hortenzie/kyselomiln√©.', soil: 'Kysel√Ω (ra≈°elina).' },
                    { n: 'Hyacint', s: 4, w: 9, difficulty: 2, place: 'Svƒõtl√©, chladn√©.', water: 'Pravidelnƒõ, ne na cibuli.', fertilizer: 'Nen√≠ nutn√© bƒõhem kvƒõtu.', soil: 'P√≠sƒçit√Ω propustn√Ω.' },
                    { n: 'Chryzant√©ma', s: 4, w: 8, difficulty: 2, place: 'Svƒõtl√©, vzdu≈°n√©.', water: 'St√°le m√≠rnƒõ vlhk√©.', fertilizer: '1x za 14 dn√≠.', soil: 'Zahradn√≠ substr√°t.' },
                    { n: 'Kaktus / Sukulent', s: 14, w: 30, difficulty: 1, place: 'Pln√© slunce.', water: 'Minim√°lnƒõ, a≈æ po √∫pln√©m vyschnut√≠.', fertilizer: '1x mƒõs√≠ƒçnƒõ v l√©tƒõ.', soil: 'P√≠sƒçit√Ω, pro kaktusy.' },
                    { n: 'Kalanchoe (Kolopejka)', s: 10, w: 18, difficulty: 1, place: 'Jasn√© svƒõtlo.', water: 'St≈ô√≠dmƒõ, sukulent.', fertilizer: 'Pro kvetouc√≠ v l√©tƒõ.', soil: 'Lehk√Ω propustn√Ω.' },
                    { n: 'Levandule (Levanduƒæa)', s: 4, w: 10, difficulty: 2, place: 'P≈ô√≠m√© slunce.', water: 'M√≠rnƒõ, nesn√°≈°√≠ mokro.', fertilizer: 'Slabƒõ na ja≈ôe.', soil: 'V√°penat√Ω, p√≠sƒçit√Ω.' },
                    { n: 'Spathiphyllum (Lopatkovec)', s: 3, w: 7, difficulty: 2, place: 'Polost√≠n, st√≠n.', water: 'R√°d pije, nesm√≠ zvadnout.', fertilizer: '1x za 14 dn√≠.', soil: 'Univerz√°ln√≠ + perlit.' },
                    { n: 'ƒΩalia (Lilie)', s: 4, w: 8, difficulty: 3, place: 'Slunn√©, chr√°nƒõn√©.', water: 'Udr≈æovat vlhk√©.', fertilizer: 'Bƒõhem r≈Østu t√Ωdnƒõ.', soil: 'Hlubok√Ω, hum√≥zn√≠.' },
                    { n: 'Maranta', s: 4, w: 9, difficulty: 4, place: 'Polost√≠n, st√≠n.', water: 'Odst√°t√° vla≈æn√° voda.', fertilizer: '1x za 14 dn√≠ poloviƒçn√≠ d√°vka.', soil: 'Vzdu≈°n√Ω ra≈°elinov√Ω.' },
                    { n: 'Monstera', s: 7, w: 14, difficulty: 2, place: 'Jasn√© rozpt√Ωlen√© svƒõtlo.', water: 'Po proschnut√≠, miluje rosen√≠.', fertilizer: '1x za 14 dn√≠ v sez√≥nƒõ.', soil: 'Aroidn√≠ mix (k≈Øra, perlit).' },
                    { n: 'Nephrolepis (Ledvin√≠k / Nefrolepka)', s: 3, w: 7, difficulty: 3, place: 'Svƒõtl√© a≈æ polost√≠n, vlhko.', water: 'St√°le vlhk√Ω substr√°t.', fertilizer: '2x mƒõs√≠ƒçnƒõ slabƒõ.', soil: 'Pro kapradiny.' },
                    { n: 'Orchidej', s: 7, w: 10, difficulty: 3, place: 'Jasn√© svƒõtlo, ne jih.', water: 'Nam√°ƒçen√≠ na 15 min.', fertilizer: 'Speci√°ln√≠ pro orchideje.', soil: 'Pouze k≈Øra.' },
                    { n: 'Peperomia (Pep≈ôinec / Pieprovec)', s: 7, w: 12, difficulty: 2, place: 'Jasn√© svƒõtlo, ne slunce.', water: 'M√≠rnƒõ, a≈æ po vyschnut√≠.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Lehk√Ω propustn√Ω.' },
                    { n: 'Philodendron (Filodendron)', s: 6, w: 12, difficulty: 2, place: 'Rozpt√Ωlen√© svƒõtlo.', water: 'Pravidelnƒõ po oschnut√≠.', fertilizer: '1x za 14 dn√≠.', soil: 'Vzdu≈°n√Ω s k≈Ørou.' },
                    { n: 'Pilea', s: 5, w: 10, difficulty: 2, place: 'Jasn√© svƒõtlo.', water: 'Pravidelnƒõ, nep≈ôel√©vat.', fertilizer: '1x za mƒõs√≠c.', soil: 'Univerz√°ln√≠.' },
                    { n: 'Ranunculus (Prysky≈ôn√≠k / Iskern√≠k)', s: 4, w: 8, difficulty: 3, place: 'Svƒõtl√©, chladnƒõj≈°√≠.', water: 'Pravidelnƒõ, nesm√≠ vyschnout.', fertilizer: 'Bƒõhem kvƒõtu.', soil: 'V√Ω≈æivn√Ω propustn√Ω.' },
                    { n: 'R≈Ø≈æe (Ru≈æa)', s: 3, w: 7, difficulty: 4, place: 'Pln√© slunce, vzdu≈°n√©.', water: 'Bohatƒõ ke ko≈ôen≈Øm.', fertilizer: 'Pro r≈Ø≈æe 1x za 14 dn√≠.', soil: 'Hlubok√Ω hlinit√Ω.' },
                    { n: 'Sansevieria', s: 14, w: 30, difficulty: 1, place: 'V≈°echny polohy.', water: 'Velmi m√°lo.', fertilizer: '1x za mƒõs√≠c v l√©tƒõ.', soil: 'Pro kaktusy.' },
                    { n: 'Schefflera (≈†eflera)', s: 6, w: 12, difficulty: 2, place: 'Svƒõtl√© a≈æ polost√≠n.', water: 'M√≠rnƒõ, rosit.', fertilizer: '2x mƒõs√≠ƒçnƒõ.', soil: 'Univerz√°ln√≠.' },
                    { n: 'Strel√≠cie (Strel√≠cia)', s: 6, w: 12, difficulty: 4, place: 'P≈ô√≠m√© slunce, teplo.', water: 'Vydatnƒõ v l√©tƒõ, rosit.', fertilizer: '1x t√Ωdnƒõ v l√©tƒõ.', soil: 'Hlinit√Ω v√Ω≈æivn√Ω.' },
                    { n: 'Syngonium (Husia noha)', s: 5, w: 10, difficulty: 2, place: 'Rozpt√Ωlen√© svƒõtlo.', water: 'Pravidelnƒõ, rosit.', fertilizer: '1x za 14 dn√≠.', soil: 'Standardn√≠ pokojov√Ω.' },
                    { n: 'Tradescantia (Podƒõnka / Podenka)', s: 5, w: 10, difficulty: 1, place: 'Jasn√© rozpt√Ωlen√©.', water: 'Pravidelnƒõ, snese sucho.', fertilizer: '1x mƒõs√≠ƒçnƒõ.', soil: 'Jak√Ωkoliv substr√°t.' },
                    { n: 'V√°noƒçn√≠ hvƒõzda (Euphorbia)', s: 5, w: 10, difficulty: 4, place: 'Svƒõtl√©, teplo, bez pr≈Øvanu.', water: 'M√≠rnƒõ vla≈ænou vodou.', fertilizer: 'Bƒõhem zimy slabƒõ.', soil: 'Huminov√Ω lehk√Ω.' },
                    { n: 'Zamiokulkas', s: 14, w: 25, difficulty: 1, place: 'Snese i st√≠n.', water: 'M√°lokdy, a≈æ po vyschnut√≠.', fertilizer: '1x mƒõs√≠ƒçnƒõ v l√©tƒõ.', soil: 'Propustn√Ω s p√≠skem.' },
                    { n: 'Zelenec', s: 4, w: 10, difficulty: 1, place: 'Svƒõtl√© i polost√≠n.', water: 'Pravidelnƒõ, velmi odoln√Ω.', fertilizer: '1x za 14 dn√≠.', soil: 'Univerz√°ln√≠.' },
                    { n: 'Zvonek (Campanula)', s: 3, w: 7, difficulty: 3, place: 'Jasn√© svƒõtlo, chladnƒõji.', water: 'St√°le m√≠rnƒõ vlhk√©.', fertilizer: 'T√Ωdnƒõ bƒõhem kvƒõtu.', soil: 'Zahradn√≠ propustn√Ω.' }
                ],

                getCare(name) {
                    const n = name.toLowerCase();
                    const found = this.fullLibrary.find(item => n.includes(item.n.toLowerCase().split(' (')[0]));
                    return found || { difficulty: 2, place: 'Jasn√© rozpt√Ωlen√© svƒõtlo.', water: 'Odst√°t√° voda po oschnut√≠.', fertilizer: '1x za 14 dn√≠ v sez√≥nƒõ.', soil: 'Univerz√°ln√≠ substr√°t s perlitem.' };
                },

                getIcon(name) {
                    const n = name.toLowerCase();
                    if (n.includes('ananas')) return 'üçç';
                    if (n.includes('kaktus') || n.includes('sukulent') || n.includes('aloe') || n.includes('jazyk') || n.includes('sansevieria')) return 'üåµ';
                    if (n.includes('monstera') || n.includes('fikus') || n.includes('f√≠kus') || n.includes('palma') || n.includes('dracena')) return 'üå¥';
                    if (n.includes('orchidej') || n.includes('fialka') || n.includes('r≈Ø≈æe') || n.includes('ru≈æa')) return 'üå∏';
                    return 'ü™¥';
                },
                
                init() {
                    const saved = localStorage.getItem('vibeJunglePro');
                    if (saved) this.plants = JSON.parse(saved);
                    this.recalculateAll();
                },

                checkLibrary() {
                    const input = this.newName.toLowerCase().trim();
                    if (!input) return;
                    const match = this.fullLibrary.find(item => item.n.toLowerCase().includes(input));
                    if (match) { 
                        this.summerDays = match.s; 
                        this.winterDays = match.w; 
                    }
                },

                addPlant() {
                    if (!this.newName) return;
                    this.checkLibrary();
                    const selectedDate = new Date(this.lastWateredDate);
                    selectedDate.setHours(12, 0, 0, 0);
                    this.plants.push({
                        id: Date.now(),
                        name: this.newName,
                        summerDays: parseInt(this.summerDays),
                        winterDays: parseInt(this.winterDays),
                        lastWatered: selectedDate.toLocaleDateString('cs-CZ'),
                        lastWateredMs: selectedDate.getTime(),
                        daysLeft: 0
                    });
                    this.save();
                    this.newName = '';
                    this.recalculateAll();
                },

                waterPlant(id) {
                    const now = new Date();
                    now.setHours(12, 0, 0, 0);
                    let p = this.plants.find(p => p.id === id);
                    if (p) {
                        p.lastWatered = now.toLocaleDateString('cs-CZ');
                        p.lastWateredMs = now.getTime();
                        this.recalculateAll();
                        this.save();
                    }
                },

                triggerDelete(id) {
                    this.plants = this.plants.filter(p => p.id !== id);
                    this.save();
                },

                recalculateAll() {
                    const now = new Date().getTime();
                    this.plants.forEach(p => {
                        const maxDays = this.season === 'summer' ? p.summerDays : p.winterDays;
                        const daysElapsed = Math.floor((now - p.lastWateredMs) / 86400000);
                        p.daysLeft = Math.max(0, maxDays - daysElapsed);
                    });
                },

                save() { localStorage.setItem('vibeJunglePro', JSON.stringify(this.plants)); },
                setSeason(s) { this.season = s; this.recalculateAll(); }
            };
        }
    </script>
</body>
</html>
